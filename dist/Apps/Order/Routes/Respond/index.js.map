{"version":3,"sources":["../../../../../src/Apps/Order/Routes/Respond/index.tsx"],"names":["logger","RespondRoute","props","order_id","order","id","action_type","Schema","ActionType","FocusedOnOfferInput","flow","Flow","MakeOffer","ViewedOfferTooLow","ViewedOfferHigherThanListPrice","offerValue","offerNoteValue","value","exceedsCharacterLimit","responseOption","formIsDirty","lowSpeedBumpEncountered","highSpeedBumpEncountered","state","router","push","setState","currentOfferPrice","itemsTotalCents","showLowSpeedbump","showHighSpeedbump","createCounterOffer","input","offerId","lastOffer","amountCents","note","orderOrError","commerceBuyerCounterOffer","error","dialog","showErrorDialog","title","message","continueButtonText","variables","commitMutation","mutation","isCommittingMutation","artworkId","lineItems","edges","node","artwork","counterofferFlowSteps","pointerEvents","createdAt","stateExpiresAt","onOfferInputFocus","bind","onContinueButtonPressed","Component","RespondFragmentContainer"],"mappings":"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","sourcesContent":["import {\n  BorderedRadio,\n  Button,\n  Col,\n  Collapse,\n  Flex,\n  RadioGroup,\n  Row,\n  Sans,\n  Spacer,\n  TextAreaChange,\n} from \"@artsy/palette\"\nimport { Respond_order } from \"__generated__/Respond_order.graphql\"\nimport { RespondCounterOfferMutation } from \"__generated__/RespondCounterOfferMutation.graphql\"\nimport { HorizontalPadding } from \"Apps/Components/HorizontalPadding\"\nimport { OfferInput } from \"Apps/Order/Components/OfferInput\"\nimport { OfferNote } from \"Apps/Order/Components/OfferNote\"\nimport { RevealButton } from \"Apps/Order/Components/RevealButton\"\nimport { TransactionDetailsSummaryItemFragmentContainer as TransactionDetailsSummaryItem } from \"Apps/Order/Components/TransactionDetailsSummaryItem\"\nimport { TwoColumnLayout } from \"Apps/Order/Components/TwoColumnLayout\"\nimport { Dialog, injectDialog } from \"Apps/Order/Dialogs\"\nimport {\n  CommitMutation,\n  injectCommitMutation,\n} from \"Apps/Order/Utils/commitMutation\"\nimport { trackPageViewWrapper } from \"Apps/Order/Utils/trackPageViewWrapper\"\nimport { track } from \"Artsy\"\nimport * as Schema from \"Artsy/Analytics/Schema\"\nimport { CountdownTimer } from \"Components/v2/CountdownTimer\"\nimport { Router } from \"found\"\nimport React, { Component } from \"react\"\nimport { createFragmentContainer, graphql, RelayProp } from \"react-relay\"\nimport createLogger from \"Utils/logger\"\nimport { Media } from \"Utils/Responsive\"\nimport { ArtworkSummaryItemFragmentContainer as ArtworkSummaryItem } from \"../../Components/ArtworkSummaryItem\"\nimport { CreditCardSummaryItemFragmentContainer as CreditCardSummaryItem } from \"../../Components/CreditCardSummaryItem\"\nimport { OfferHistoryItemFragmentContainer as OfferHistoryItem } from \"../../Components/OfferHistoryItem\"\nimport {\n  counterofferFlowSteps,\n  OrderStepper,\n} from \"../../Components/OrderStepper\"\nimport { ShippingSummaryItemFragmentContainer as ShippingSummaryItem } from \"../../Components/ShippingSummaryItem\"\n\nexport interface RespondProps {\n  order: Respond_order\n  relay?: RelayProp\n  router: Router\n  dialog: Dialog\n  commitMutation: CommitMutation\n  isCommittingMutation: boolean\n}\n\nexport interface RespondState {\n  offerValue: number\n  offerNoteValue: TextAreaChange\n  formIsDirty: boolean\n  responseOption: \"ACCEPT\" | \"COUNTER\" | \"DECLINE\"\n  lowSpeedBumpEncountered: boolean\n  highSpeedBumpEncountered: boolean\n}\n\nexport const logger = createLogger(\"Order/Routes/Respond/index.tsx\")\n\n@track()\nexport class RespondRoute extends Component<RespondProps, RespondState> {\n  state: RespondState = {\n    offerValue: 0,\n    offerNoteValue: { value: \"\", exceedsCharacterLimit: false },\n    responseOption: null,\n    formIsDirty: false,\n    lowSpeedBumpEncountered: false,\n    highSpeedBumpEncountered: false,\n  }\n\n  @track<RespondProps>(props => ({\n    order_id: props.order.id,\n    action_type: Schema.ActionType.FocusedOnOfferInput,\n    flow: Schema.Flow.MakeOffer,\n  }))\n  onOfferInputFocus() {\n    // noop\n  }\n\n  @track<RespondProps>(props => ({\n    order_id: props.order.id,\n    action_type: Schema.ActionType.ViewedOfferTooLow,\n    flow: Schema.Flow.MakeOffer,\n  }))\n  showLowSpeedbump() {\n    this.setState({ lowSpeedBumpEncountered: true })\n    this.props.dialog.showErrorDialog({\n      title: \"Offer may be too low\",\n      message:\n        \"Offers within 25% of the seller's offer are most likely to receive a response.\",\n      continueButtonText: \"OK\",\n    })\n  }\n\n  @track<RespondProps>(props => ({\n    order_id: props.order.id,\n    action_type: Schema.ActionType.ViewedOfferHigherThanListPrice,\n    flow: Schema.Flow.MakeOffer,\n  }))\n  showHighSpeedbump() {\n    this.setState({ highSpeedBumpEncountered: true })\n    this.props.dialog.showErrorDialog({\n      title: \"Offer higher than seller's offer\",\n      message: \"Youâ€™re making an offer higher than the seller's offer.\",\n      continueButtonText: \"OK\",\n    })\n  }\n\n  onContinueButtonPressed = async () => {\n    const {\n      responseOption,\n      offerValue,\n      offerNoteValue,\n      lowSpeedBumpEncountered,\n      highSpeedBumpEncountered,\n    } = this.state\n\n    if (responseOption === \"ACCEPT\") {\n      this.props.router.push(`/orders/${this.props.order.id}/review/accept`)\n      return\n    }\n\n    if (responseOption === \"DECLINE\") {\n      this.props.router.push(`/orders/${this.props.order.id}/review/decline`)\n      return\n    }\n\n    // responseOption === \"COUNTER\"\n\n    if (offerValue <= 0 || offerNoteValue.exceedsCharacterLimit) {\n      this.setState({ formIsDirty: true })\n      return\n    }\n    const currentOfferPrice = this.props.order.itemsTotalCents\n\n    if (\n      !lowSpeedBumpEncountered &&\n      offerValue * 100 < currentOfferPrice * 0.75\n    ) {\n      this.showLowSpeedbump()\n      return\n    }\n\n    if (\n      !highSpeedBumpEncountered &&\n      this.state.offerValue * 100 > currentOfferPrice\n    ) {\n      this.showHighSpeedbump()\n      return\n    }\n\n    try {\n      const orderOrError = (await this.createCounterOffer({\n        input: {\n          offerId: this.props.order.lastOffer.id,\n          amountCents: this.state.offerValue * 100,\n          note: this.state.offerNoteValue && this.state.offerNoteValue.value,\n        },\n      })).commerceBuyerCounterOffer.orderOrError\n\n      if (orderOrError.error) {\n        throw orderOrError.error\n      }\n\n      this.props.router.push(`/orders/${this.props.order.id}/review/counter`)\n    } catch (error) {\n      logger.error(error)\n      this.props.dialog.showErrorDialog()\n    }\n  }\n\n  createCounterOffer(variables: RespondCounterOfferMutation[\"variables\"]) {\n    return this.props.commitMutation<RespondCounterOfferMutation>({\n      variables,\n      mutation: graphql`\n        mutation RespondCounterOfferMutation(\n          $input: CommerceBuyerCounterOfferInput!\n        ) {\n          commerceBuyerCounterOffer(input: $input) {\n            orderOrError {\n              ... on CommerceOrderWithMutationSuccess {\n                order {\n                  ...Respond_order\n                }\n              }\n              ... on CommerceOrderWithMutationFailure {\n                error {\n                  type\n                  code\n                  data\n                }\n              }\n            }\n          }\n        }\n      `,\n    })\n  }\n\n  render() {\n    const { order, isCommittingMutation } = this.props\n\n    const artworkId = order.lineItems.edges[0].node.artwork.id\n\n    return (\n      <>\n        <HorizontalPadding px={[0, 4]}>\n          <Row>\n            <Col>\n              <OrderStepper\n                currentStep=\"Respond\"\n                steps={counterofferFlowSteps}\n              />\n            </Col>\n          </Row>\n        </HorizontalPadding>\n\n        <HorizontalPadding>\n          <TwoColumnLayout\n            Content={\n              <Flex\n                flexDirection=\"column\"\n                style={isCommittingMutation ? { pointerEvents: \"none\" } : {}}\n              >\n                <Flex flexDirection=\"column\">\n                  <CountdownTimer\n                    action=\"Respond\"\n                    note=\"Expiration will end negotiations on this offer. Keep in mind the work can be sold to another buyer in the meantime.\"\n                    countdownStart={order.lastOffer.createdAt}\n                    countdownEnd={order.stateExpiresAt}\n                  />\n                  <OfferHistoryItem order={order} />\n                  <TransactionDetailsSummaryItem\n                    order={order}\n                    useLastSubmittedOffer\n                  />\n                </Flex>\n                <Spacer mb={[2, 3]} />\n                <RadioGroup\n                  onSelect={(responseOption: any) =>\n                    this.setState({ responseOption })\n                  }\n                  defaultValue={this.state.responseOption}\n                >\n                  <BorderedRadio value=\"ACCEPT\" label=\"Accept seller's offer\" />\n                  <BorderedRadio\n                    value=\"COUNTER\"\n                    position=\"relative\"\n                    label=\"Send counteroffer\"\n                  >\n                    <Collapse open={this.state.responseOption === \"COUNTER\"}>\n                      <Spacer mb={2} />\n                      <OfferInput\n                        id=\"RespondForm_RespondValue\"\n                        showError={\n                          this.state.formIsDirty && this.state.offerValue <= 0\n                        }\n                        onChange={offerValue => this.setState({ offerValue })}\n                        onFocus={this.onOfferInputFocus.bind(this)}\n                      />\n                      <Spacer mb={0.5} />\n                      <RevealButton\n                        align=\"left\"\n                        buttonLabel=\"Add note to seller\"\n                      >\n                        <Spacer mb={1} />\n                        <OfferNote\n                          onChange={offerNoteValue =>\n                            this.setState({ offerNoteValue })\n                          }\n                          artworkId={artworkId}\n                          counteroffer\n                        />\n                      </RevealButton>\n                    </Collapse>\n                  </BorderedRadio>\n                  <BorderedRadio\n                    value=\"DECLINE\"\n                    position=\"relative\"\n                    label=\"Decline seller's offer\"\n                  >\n                    <Flex position=\"relative\">\n                      <Collapse open={this.state.responseOption === \"DECLINE\"}>\n                        <Spacer mb={1} />\n                        <Sans size=\"2\" color=\"black60\">\n                          Declining an offer will end the negotiation process on\n                          this offer.\n                        </Sans>\n                      </Collapse>\n                    </Flex>\n                  </BorderedRadio>\n                </RadioGroup>\n                <Spacer mb={[2, 3]} />\n                <Flex flexDirection=\"column\" />\n                <Media greaterThan=\"xs\">\n                  <Button\n                    onClick={this.onContinueButtonPressed}\n                    loading={isCommittingMutation}\n                    size=\"large\"\n                    width=\"100%\"\n                  >\n                    Continue\n                  </Button>\n                </Media>\n              </Flex>\n            }\n            Sidebar={\n              <Flex flexDirection=\"column\">\n                <Flex flexDirection=\"column\">\n                  <ArtworkSummaryItem order={order} />\n                  <ShippingSummaryItem order={order} locked />\n                  <CreditCardSummaryItem order={order} locked />\n                </Flex>\n                <Spacer mb={2} />\n                <Media at=\"xs\">\n                  <>\n                    <Button\n                      onClick={this.onContinueButtonPressed}\n                      loading={isCommittingMutation}\n                      size=\"large\"\n                      width=\"100%\"\n                    >\n                      Continue\n                    </Button>\n                  </>\n                </Media>\n              </Flex>\n            }\n          />\n        </HorizontalPadding>\n      </>\n    )\n  }\n}\n\nexport const RespondFragmentContainer = createFragmentContainer(\n  injectCommitMutation(injectDialog(trackPageViewWrapper(RespondRoute))),\n  {\n    order: graphql`\n      fragment Respond_order on CommerceOrder {\n        id\n        mode\n        state\n        currencyCode\n        itemsTotal(precision: 2)\n        itemsTotalCents\n        totalListPrice(precision: 2)\n        totalListPriceCents\n        stateExpiresAt\n        lineItems {\n          edges {\n            node {\n              artwork {\n                id\n              }\n            }\n          }\n        }\n        ... on CommerceOfferOrder {\n          lastOffer {\n            createdAt\n            id\n            note\n          }\n          myLastOffer {\n            createdAt\n          }\n        }\n        ...TransactionDetailsSummaryItem_order\n        ...ArtworkSummaryItem_order\n        ...ShippingSummaryItem_order\n        ...CreditCardSummaryItem_order\n        ...OfferHistoryItem_order\n      }\n    `,\n  }\n)\n"],"file":"index.js"}